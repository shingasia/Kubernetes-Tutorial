<!-- github-markdown-css -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.1.0/github-markdown-dark.css" />
<style type='text/css'>
    .markdown-body {
		box-sizing: border-box;
		/* min-width: 200px;
		max-width: 980px; */
		margin: 0 auto;
		padding: 45px;
	}
	@media (max-width: 767px) {
		.markdown-body {
			padding: 15px;
		}
	}
    .subject1 {
        font-size : 30px;
    }
    .subject2 {
        font-size : 27px;
        color : #80bfff;
    }
    .subtitle {
        font-size : 22px;
    }
</style>
<div class="markdown-body">
<hr/>
    <p class="subject1">컨트롤 플레인-노드 간 통신</p>
<hr/>
<div id="description">
    <p>
        이 문서는 API 서버와 쿠버네티스 클러스터 사이에 대한 통신 경로의 목록을 작성한다.
    </p>
    <p>
        이는 사용자가 신뢰할 수 없는 네트워크(또는 클라우드 공급자의 완전한 퍼블릭 IP)에서 클러스터를 실행할 수 있도록 네트워크 구성을 강화하기 위한 맞춤 설치를 할 수 있도록 한다.
    </p>
</div>
<hr/>
<dl>
    <dt><p class="subject2">노드에서 컨트롤 플레인으로의 통신</p></dt>
    <dd>
        <div>
            쿠버네티스에는 <span style="color : #cc0000">허브 앤 스포크(hub-and-spoke)</span> API 패턴을 가지고 있다.
            <br/>
            노드(또는 노드에서 실행되는 파드들)의 모든 API 사용은 API 서버에서 종료된다.
            <br/>
            다른 컨트롤 플레인 컴포넌트 중 어느 것도 원격 서비스를 노출하도록 설계되지 않았다.
            <br/>
            API 서버는 하나 이상의 클라이언트 인증 형식이 활성화된 보안 HTTPS 포트(일반적으로 443)에서 원격 연결을 수신하도록 구성된다.
        </div>
        <br/>
        <div>
            특히 익명의 요청 또는 서비스 어카운트 토큰이 허용되는 경우, 하나 이상의 권한 부여 형식을 사용해야 한다.
            <br/>
            노드는 유효한 클라이언트 자격 증명과 함께 API 서버에 안전하게 연결할 수 있도록 클러스터에 대한 공개 루트 인증서로 프로비전해야 한다.
            <br/>
            kubernetes 서비스(default 네임스페이스의)는 API 서버의 HTTPS 엔드포인트로 리디렉션되는 가상 IP 주소(kube-proxy를 통해)로 구성되어 있다.
        </div>
    </dd>
    <hr/>
    <dt><p class="subject2">컨트롤 플레인에서 노드로의 통신</p></dt>
    <dd>
        컨트롤 플레인(API 서버)에서 노드로는 두 가지 기본 통신 경로가 있다.
        <br/>
        1) API 서버에서 클러스터의 각 노드에서 실행되는 kubelet 프로세스
        <br/>
        2) API 서버의 프록시 기능을 통해 API 서버에서 모든 노드, 파드 또는 서비스에 이르는 것
    </dd>
    <br/><br/>
    <dd><p class="subtitle">API 서버에서 kubelet으로의 통신</p></dd>
    <dd>API 서버에서 kubelet으로의 연결은 다음의 용도로 사용된다.</dd>
    <dd>
        <ul>
            <li>파드에 대한 로그를 가져온다.</li>
            <li>실행 중인 파드에 (보통의 경우 kubectl을 통해) 연결한다.</li>
            <li>kubelet의 포트-포워딩 기능을 제공한다.</li>
        </ul>
    </dd>
</dl>
</div>

